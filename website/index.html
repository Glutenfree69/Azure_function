<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Compteur S√©curis√© - Entra ID</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üîê</text></svg>">
</head>
<body>
    <div class="container">
        <!-- ‚úÖ NOUVEAU : Section d'authentification -->
        <div id="user-info" class="user-section">
            <!-- Contenu g√©r√© dynamiquement par JavaScript -->
        </div>

        <!-- ‚úÖ MODIFI√â : Contenu de l'application (masqu√© si non authentifi√©) -->
        <div id="app-content" class="app-content" style="display: none;">
            <div class="counter-container">
                <h1>üîê Compteur S√©curis√©</h1>
                <p class="subtitle">Authentifi√© avec Entra ID</p>

                <!-- ‚úÖ NOUVEAU : Utilisateur actuel -->
                <div class="current-user">
                    <span>Utilisateur: <strong id="current-user">-</strong></span>
                </div>

                <div class="counter-display">
                    <div id="counter-value" class="counter-value">Chargement...</div>
                </div>

                <div class="buttons">
                    <button id="increment" class="button primary" onclick="updateCounter('increment')">
                        ‚ûï +1
                    </button>
                    <button id="decrement" class="button primary" onclick="updateCounter('decrement')">
                        ‚ûñ -1
                    </button>
                    <button id="reset" class="button danger" onclick="updateCounter('reset')">
                        üîÑ Reset
                    </button>
                </div>

                <!-- ‚úÖ NOUVEAU : Feedback des actions -->
                <div id="action-feedback" class="feedback" style="display: none;"></div>

                <div class="info">
                    <p class="last-updated">
                        <strong>Derni√®re mise √† jour:</strong>
                        <span id="last-updated">-</span>
                    </p>
                    
                    <!-- ‚úÖ NOUVEAU : Qui a fait la derni√®re modification -->
                    <div id="last-user-info" class="last-user-info" style="display: none;">
                        <p><strong>Derni√®re modification par:</strong> <span id="last-user">-</span></p>
                    </div>
                </div>

                <div class="footer">
                    <p>Compteur s√©curis√© avec Azure + Entra ID</p>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>